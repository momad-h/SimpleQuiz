@{
    ViewData["Title"] = "آزمون";
    Layout = "_MainLayout";
}

<div class="col-lg-12" id="quiz-panel">
    <div class="row">
        <div class="col-xl-6 col-md-6">
            <div class="card ribbone-card">
                <div class="arrow-ribbone-left bg-secondary">اطلاعات</div>
                <div class="card-body  p-6">
                    <h6 class="card-subtitle mb-2 text-dark fw-bold text-end">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title. Some quick example text to build on the card title</p>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-md-6">
            <div class="card ribbone-card">
                <div class="ribbone ribbone-top-left text-primary"><span class="bg-primary">زمان آزمون</span></div>
                <div class="card-body  p-6">
                    <div class="container">
                        <section id="timer" dir="ltr">
                            <div class="row">
                                <div class="col-xs-12 col-sm-12 col-md-12 countdown-wrapper text-center mb20">
                                    <div class="card-block">
                                        <div id="countdown">
                                            <div class="well">
                                                <span id="hour" class="timer bg-success"></span>
                                                <span id="min" class="timer bg-info"></span>
                                                <span id="sec" class="timer bg-primary"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="expanel expanel-secondary">
        <div class="expanel-heading">
            <h3 class="expanel-title">سوالات </h3>
        </div>
        <div class="expanel-body">
            <div class="table-responsive">
                <table class="table border text-nowrap text-md-nowrap mb-0" id="quiz">
                    <tbody>
                        @foreach (QuestionsViewModel question in ViewBag.Questions)
                        {
                            int q = @question.QuestionNumber;
                            string name = "question" + q;
                            <tr>
                                <td name="@name">@question.QuestionNumber- @question.Questions</td>
                            </tr>
                            int r = 1;
                            <tr>
                                <td colspan="4">
                                    <table class="table border text-nowrap text-md-nowrap  mb-0">
                                        <tbody>
                                            @foreach (ResponsesViewModel response in ViewBag.Responses)
                                            {
                                                if (response.QuestionID == question.QuestionNumber)
                                                {
                                                    string id = "q" + q + "o" + r;
                                                    <tr>
                                                        <td>
                                                            <label class="custom-control custom-radio-md">
                                                                <input type="radio" class="custom-control-input" name="@name" id="@id" value="@r">
                                                                <span class="custom-control-label">@response.Questions</span>
                                                            </label>
                                                        </td>
                                                    </tr>
                                                    r++;
                                                }
                                            }

                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div style="padding:10px">
            </div>
            <div class="col mb-2">
                <div class="btn-list">
                    <button type="button" class="btn btn-primary mb-1" onclick="getCheckedOptions()">ثبت آزمون</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-lg-12" id="result-panel">
    <div class="row">
        <div class="col-sm-9 col-xl-9 col-md-9 col-lg-9">
            <div class="card">
                <div class="card-body text-center">
                    <h6 class=""><span class="text-primary"><i class="fe fe-file-text mx-2 fs-20 text-primary-shadow"></i></span>نمره کل</h6>
                    <h3 class="text-dark counter mt-0 mb-3 number-font">3</h3>
                    <div class="progress h-1 mt-0 mb-2">
                        <div class="progress-bar progress-bar-striped bg-primary" style="width: 70%;" role="progressbar"></div>
                    </div>
                    <div class="row mt-4">
                        <div class="col text-center">
                            <span class="text-muted">تعداد سوالات</span>
                            <h4 class="fw-normal mt-2 mb-0 number-font1">8</h4>
                        </div>
                        <div class="col text-center">
                            <span class="text-muted">پاسخ داده</span>
                            <h4 class="fw-normal mt-2 mb-0 number-font2">23</h4>
                        </div>
                        <div class="col text-center">
                            <span class="text-muted">بدون پاسخ</span>
                            <h4 class="fw-normal mt-2 mb-0 number-font3">31</h4>
                        </div>
                        <div class="col text-center">
                            <span class="text-muted">صحیح</span>
                            <h4 class="fw-normal mt-2 mb-0 number-font3">31</h4>
                        </div>
                        <div class="col text-center">
                            <span class="text-muted">نادرست</span>
                            <h4 class="fw-normal mt-2 mb-0 number-font3">31</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
            <div class="col-sm-12 col-md-12 col-lg-12  col-xl-12">
                <div class="card widgets-cards bg-danger box-danger-shadow">
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <div class="chart-circle chart-circle-sm ms-3 mt-1" data-value="0.42" data-thickness="6" data-bs-color="#c21a1a">
                            <div class="chart-circle-value text-white">37%</div>
                        </div>
                        <div class="wrp text-wrapper text-white p-3">
                            <p class="mt-0">345</p>
                            <p class=" mt-1 mb-0">This Week Comments</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="expanel expanel-success">
        <div class="expanel-heading">
            <h3 class="expanel-title">نتیجه آزمون</h3>
        </div>
        <div class="expanel-body">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table border text-nowrap text-md-nowrap mb-0">
                        <thead>
                            <tr class="table-light">
                                <th>سوال</th>
                                <th>پاسخ شما</th>
                                <th>پاسخ صحیح</th>
                            </tr>
                        </thead>
                        <tbody id="result">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>